import{j as e,r as y,P as N}from"./index-aea85b90.js";import{B as K}from"./Breadcrumb-36d57edb.js";import{P as $}from"./PageContainer-cdf59eb8.js";import{m as W}from"./mapbox-gl-50cf9b1b.js";import{D as k}from"./DashboardCard-b9cb4657.js";import{C as B,_ as S}from"./react-apexcharts.min-c37c62d3.js";import{B as T}from"./BlankCard-b0a455f2.js";import{u as C,B as m,T as p,G as c,O as q,S as E,s as Z,Y as L}from"./index.esm-70a918d3.js";import{C as w}from"./Chip-b6998e96.js";import{S as b}from"./Stack-10fb171d.js";import{A as F}from"./Avatar-22d95f36.js";import{b as V}from"./Button-021ea796.js";import{C as H}from"./Card-0f775ac0.js";import{D as A}from"./Divider-57144c01.js";import"./CustomSelect-f91b0cb3.js";import"./Grow-26c1c19e.js";import"./ButtonBase-33b8aab6.js";import"./styled-d61d15ba.js";import"./dividerClasses-7eee61cf.js";const D=({title:t,value:s,chartData:a,stateName:i})=>{const n=C();n.palette.secondary.main;const r=o=>{if(o.length<2)return"0%";const x=o[o.length-2],j=o[o.length-1];return x===0?"N/A":`${((j-x)/x*100).toFixed(2)}%`},f=o=>`₦${(o/1e9).toFixed(2)} B`,l=r(a),h={chart:{type:"bar",fontFamily:"'Plus Jakarta Sans', sans-serif;",foreColor:"#adb0bb",toolbar:{show:!1},height:70,sparkline:{enabled:!0}},colors:["#3B80B2","#599BC8","#77ADD2","#97BEDC","#B3CEE6","#e4e9ec","#e4e9ec","#e4e9ec","#b8c0c6"],plotOptions:{bar:{borderRadius:4,columnWidth:"50%",distributed:!0,endingShape:"rounded",dataLabels:{position:"top"}}},dataLabels:{enabled:!0,formatter:function(o){return f(o)},position:"top",style:{fontSize:"10px",colors:["#304758"],fontWeight:700},offsetY:-20},legend:{show:!1},grid:{yaxis:{lines:{show:!1}}},xaxis:{categories:["Apr","May","Jun","Jul"],labels:{show:!0,style:{fontSize:"10px"}},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{show:!1}},tooltip:{theme:n.palette.mode==="dark"?"dark":"light",y:{formatter:function(o){return f(o)}}},title:{text:"",align:"center",style:{fontSize:"12px",fontWeight:"bold",color:"#263238",padding:"10px"}}},u=[{name:"",data:a}];return e.jsx(T,{children:e.jsxs(B,{sx:{p:"30px"},children:[e.jsxs(m,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[e.jsx(p,{variant:"h5",children:t}),e.jsx(w,{label:i||"Select a state",size:"small"})]}),e.jsxs(c,{container:!0,spacing:2,children:[e.jsxs(c,{item:!0,xs:12,children:[e.jsx(p,{variant:"h4",mt:3,fontWeight:600,children:s}),e.jsxs(b,{direction:"row",spacing:1,mt:1,alignItems:"center",children:[e.jsx(F,{sx:{bgcolor:"success.light",width:20,height:20},children:l.startsWith("-")?e.jsx(q,{width:16,color:"#d32f2f"}):e.jsx(E,{width:16,color:"#39b69a"})}),e.jsx(p,{variant:"subtitle2",color:"textSecondary",children:l})]})]}),e.jsxs(c,{item:!0,xs:12,children:[e.jsx(p,{mb:2,variant:"subtitle2",whiteSpace:"nowrap",fontWeight:600,textAlign:"center",children:"Previous 4 Months"}),e.jsx(m,{mt:2,children:e.jsx(S,{options:h,series:u,type:"bar",height:"70px"})})]})]})]})})},z={NG018:{name:"Jigawa",expenses:[{label:"Administrative Expenses",amount:15e7,trend:"up"},{label:"Technical Expenses",amount:57e8,trend:"down"},{label:"Petrol Costs",amount:75e7,trend:"up"},{label:"General Repairs",amount:405e6,trend:"down"},{label:"Salaries",amount:6e8,trend:"down"},{label:"Cables/Fuses & Breakers",amount:15e8,trend:"up"},{label:"Complaint Resolutions",amount:57e8,trend:"down"}]},NG020:{name:"Kano",expenses:[{label:"Administrative Expenses",amount:2e9,trend:"up"},{label:"Technical Expenses",amount:47e8,trend:"down"},{label:"Petrol Costs",amount:85e7,trend:"up"},{label:"General Repairs",amount:505e6,trend:"down"},{label:"Salaries",amount:7e8,trend:"down"},{label:"Cables/Fuses & Breakers",amount:2e9,trend:"up"},{label:"Complaint Resolutions",amount:47e8,trend:"down"}]},NG021:{name:"Katsina",expenses:[{label:"Administrative Expenses",amount:18e8,trend:"up"},{label:"Technical Expenses",amount:55e8,trend:"down"},{label:"Petrol Costs",amount:9e8,trend:"up"},{label:"General Repairs",amount:45e7,trend:"down"},{label:"Salaries",amount:65e7,trend:"down"},{label:"Cables/Fuses & Breakers",amount:18e8,trend:"up"},{label:"Complaint Resolutions",amount:55e8,trend:"down"}]}},v={NG018:{name:"Jigawa",revenueRequired:[6e9,65e8,7e9,75e8],revenueBilled:[55e8,6e9,65e8,76e8],collections:[43e8,46e8,49e8,52e8],vendorCollections:[5,7,12,16,15,10,15]},NG020:{name:"Kano",revenueRequired:[5e9,52e8,54e8,56e8],revenueBilled:[48e8,5e9,52e8,54e8],collections:[35e8,36e8,37e8,38e8],vendorCollections:[35,27,92,65,55,20,5]},NG021:{name:"Katsina",revenueRequired:[7e9,73e8,76e8,79e8],revenueBilled:[68e8,71e8,74e8,77e8],collections:[45e8,47e8,49e8,51e8],vendorCollections:[15,27,22,36,15,10,25]}},P={NG018:{name:"Jigawa",tariffs:[56,62,48,25],energyDelivered:75},NG020:{name:"Kano",tariffs:[60,65,50,30],energyDelivered:100},NG021:{name:"Katsina",tariffs:[55,60,45,20],energyDelivered:50}},G={NG018:{name:"Jigawa",costs:{"NBET Invoice":42e8,"MO Invoice":62e8,Salaries:38e8,"Disco Opex":5e8,Others:8e8}},NG020:{name:"Kano",costs:{"NBET Invoice":5e9,"MO Invoice":7e9,Salaries:45e8,"Disco Opex":6e8,Others:1e9}},NG021:{name:"Katsina",costs:{"NBET Invoice":35e8,"MO Invoice":55e8,Salaries:3e9,"Disco Opex":4e8,Others:7e8}}},O={NG018:{name:"Jigawa",dailyPostPaidCollections:Array.from({length:31},()=>Math.floor(Math.random()*50)+10),dailyPrePaidCollections:Array.from({length:31},()=>Math.floor(Math.random()*50)+10)},NG020:{name:"Kano",dailyPostPaidCollections:Array.from({length:31},()=>Math.floor(Math.random()*70)+20),dailyPrePaidCollections:Array.from({length:31},()=>Math.floor(Math.random()*70)+20)},NG021:{name:"Katsina",dailyPostPaidCollections:Array.from({length:31},()=>Math.floor(Math.random()*30)+5),dailyPrePaidCollections:Array.from({length:31},()=>Math.floor(Math.random()*30)+5)}};W.accessToken="pk.eyJ1IjoiZHZvLXJlZ2lzIiwiYSI6ImNseXNsdzYzZTBsMTYycnM2bXY5dDh2M2sifQ.w7XKnvlxVxtWiYIFEVbz2g";const X=({selectedState:t,onStateClick:s})=>{const[a,i]=y.useState(null),n=C(),r=n.palette.primary.main,f=y.useRef(null),l=y.useRef(null),h=8.582,u=12.075;return y.useEffect(()=>{if(!l.current){console.log("Initializing map...");const o=new W.Map({container:f.current,style:"mapbox://styles/dvo-regis/clyssb5i7002301pc2fajh6kt",center:[h,u],zoom:6.6});l.current=o,l.current.scrollZoom.disable(),o.touchZoomRotate.enable(),o.touchZoomRotate.enableRotation(),o.dragRotate.enable(),o.boxZoom.enable(),o.keyboard.enable(),o.on("load",()=>{console.log("Map loaded"),o.addSource("states",{type:"geojson",data:"/assets/map-data/KEDC.geojson"}),o.addLayer({id:"states-layer",type:"fill",source:"states",paint:{"fill-color":"#888888","fill-opacity":.5}}),o.on("click","states-layer",x=>{if(console.log("Map clicked",x),x.features.length>0){const j=x.features[0],d=j.properties.admin1Pcod;if(console.log("Selected feature",j),d){const g=v[d]||{name:"Unknown",revenueRequired:[0,0,0,0],revenueBilled:[0,0,0,0],collections:[0,0,0,0]};i(g),s(g.name),o.setPaintProperty("states-layer","fill-color",["case",["==",["get","admin1Pcod"],d],r,"#888888"])}else console.error("Selected property code is undefined")}}),o.on("mouseenter","states-layer",()=>{o.getCanvas().style.cursor="pointer"}),o.on("mouseleave","states-layer",()=>{o.getCanvas().style.cursor=""})})}return()=>{console.log("Cleaning up map initialization effect")}},[n,r,s]),y.useEffect(()=>{if(!l.current)return;console.log("Updating map layer for selectedState:",t);const o=l.current,x=()=>{const j=Object.keys(v).find(d=>v[d].name===t);j?(console.log("Setting fill color for selectedPcod:",j),o.setPaintProperty("states-layer","fill-color",["case",["==",["get","admin1Pcod"],j],r,"#888888"])):(console.log("Resetting fill color"),o.setPaintProperty("states-layer","fill-color","#888888"))};o.isStyleLoaded()?x():o.once("styledata",x)},[t,r]),y.useEffect(()=>{if(console.log("Selected state changed:",t),t){const o=Object.values(v).find(x=>x.name===t);i(o),console.log("State data:",o)}else i(null)},[t]),e.jsx(k,{title:"Financial Breakdown By State",subtitle:"Select a state",children:e.jsxs(c,{container:!0,spacing:3,children:[e.jsx(c,{item:!0,xs:12,children:e.jsx(m,{className:"rounded-bars",bgcolor:"#f7f8f9",height:350,ref:f})}),a&&e.jsxs(e.Fragment,{children:[e.jsx(c,{item:!0,xs:12,sm:4,children:e.jsx(D,{title:"Total Cost",value:`₦${a.revenueRequired[a.revenueRequired.length-1].toLocaleString()}`,chartData:a.revenueRequired,stateName:a.name})}),e.jsx(c,{item:!0,xs:12,sm:4,children:e.jsx(D,{title:"Revenue Billed",value:`₦${a.revenueBilled[a.revenueBilled.length-1].toLocaleString()}`,chartData:a.revenueBilled,stateName:a.name})}),e.jsx(c,{item:!0,xs:12,sm:4,children:e.jsx(D,{title:"Collections",value:`₦${a.collections[a.collections.length-1].toLocaleString()}`,chartData:a.collections,stateName:a.name})})]})]})})},_=()=>{const t={"NBET Invoice":0,"MO Invoice":0,Salaries:0,"Disco Opex":0,Others:0};return Object.values(G).forEach(s=>{s&&s.costs&&Object.keys(s.costs).forEach(a=>{t[a]+=s.costs[a]||0})}),t},U=({selectedState:t})=>{const s=C(),a=t?Object.values(G).find(d=>d.name===t):null,i=a?a.costs:_(),n=Object.values(i).reduce((d,g)=>d+g,0),r=Object.keys(i),f=r.map(d=>i[d]),l=d=>d>=1e9?`₦${(d/1e9).toFixed(1)}B`:`₦${d/1e6}M`,o=(d=>d.map(g=>{const I=g.split(" ");return I.length>1?I:[g]}))(["NBET Invoice","MO Invoice","Salaries","Disco Opex","Others"]),x={chart:{type:"bar",fontFamily:"'Plus Jakarta Sans', sans-serif;",foreColor:"#adb0bb",toolbar:{show:!1},height:200,width:"100%"},colors:["#0074BA","#02B7FA","#ABC4C9","#000","#B3CEE6"],plotOptions:{bar:{borderRadius:3,columnWidth:"60%",barHeight:"60%",distributed:!0,endingShape:"rounded",dataLabels:{position:"top"}}},dataLabels:{enabled:!0,formatter:d=>l(d),position:"top",style:{fontSize:"10px",colors:["#304758"],fontWeight:700},offsetY:-20},legend:{show:!1},grid:{padding:{top:0,right:0,bottom:0,left:0},show:!1},xaxis:{categories:o,axisBorder:{show:!1},axisTicks:{show:!1},labels:{show:!0}},yaxis:{labels:{show:!1}},tooltip:{theme:s.palette.mode==="dark"?"dark":"light",y:{formatter:function(d){return l(d)}}}},j=[{name:"",data:f}];return e.jsx(T,{children:e.jsxs(B,{sx:{p:"30px"},children:[e.jsxs(b,{direction:"row",spacing:2,justifyContent:"space-between",children:[e.jsx(p,{variant:"h5",children:"State Cost And Breakdown"}),e.jsx(m,{display:"flex",alignItems:"left",children:e.jsx(w,{label:t||"All state",size:"small"})})]}),e.jsx(b,{direction:"row",spacing:3,mb:3,mt:3,children:r.map((d,g)=>e.jsxs(b,{direction:"row",alignItems:"center",spacing:1,children:[e.jsx(F,{sx:{width:9,height:9,bgcolor:x.colors[g],svg:{display:"none"}}}),e.jsx(m,{children:e.jsx(p,{variant:"subtitle2",fontSize:"12px",fontWeight:700,color:"textSecondary",children:d})})]},g))}),e.jsx(c,{container:!0,spacing:3,mt:2,children:["August","July","June","May"].map((d,g)=>e.jsx(c,{item:!0,xs:12,sm:3,children:e.jsx(T,{children:e.jsxs(B,{sx:{p:"20px"},children:[e.jsx(m,{children:e.jsx(S,{options:x,series:j,type:"bar",height:"190px"})}),e.jsxs(m,{mt:2,children:[e.jsx(p,{variant:"h6",fontWeight:400,mb:1,children:d}),e.jsxs(b,{direction:"row",spacing:2,justifyContent:"space-between",children:[e.jsx(p,{variant:"h4",children:l(n)}),e.jsx(p,{variant:"subtitle1",color:"success.main",children:"+2.5%"})]})]})]})})},g))})]})})},M=Z(V)(({theme:t})=>({borderRadius:0,"&:first-of-type":{borderTopLeftRadius:t.shape.borderRadius,borderBottomLeftRadius:t.shape.borderRadius},"&:last-of-type":{borderTopRightRadius:t.shape.borderRadius,borderBottomRightRadius:t.shape.borderRadius},"&:not(:first-of-type)":{marginLeft:"-1px"}})),Y=({onFilterChange:t,selectedState:s})=>{const a=i=>{t(s===i?"":i)};return e.jsxs(b,{direction:"row",children:[e.jsx(M,{variant:s==="Kano"?"contained":"outlined",onClick:()=>a("Kano"),children:"Kano"}),e.jsx(M,{variant:s==="Katsina"?"contained":"outlined",onClick:()=>a("Katsina"),children:"Katsina"}),e.jsx(M,{variant:s==="Jigawa"?"contained":"outlined",onClick:()=>a("Jigawa"),children:"Jigawa"})]})};Y.propTypes={onFilterChange:N.func.isRequired,selectedState:N.string.isRequired};const Q=()=>{const t={"MYTO Tariff":{sum:0,count:0},"Billing Tariff":{sum:0,count:0},"Collection Tariff":{sum:0,count:0},"Tariff Loss":{sum:0,count:0}};return Object.values(P).forEach(s=>{s&&s.tariffs&&(t["MYTO Tariff"].sum+=s.tariffs[0]||0,t["MYTO Tariff"].count+=1,t["Billing Tariff"].sum+=s.tariffs[1]||0,t["Billing Tariff"].count+=1,t["Collection Tariff"].sum+=s.tariffs[2]||0,t["Collection Tariff"].count+=1,t["Tariff Loss"].sum+=s.tariffs[3]||0,t["Tariff Loss"].count+=1)}),{"MYTO Tariff":t["MYTO Tariff"].sum/t["MYTO Tariff"].count,"Billing Tariff":t["Billing Tariff"].sum/t["Billing Tariff"].count,"Collection Tariff":t["Collection Tariff"].sum/t["Collection Tariff"].count,"Tariff Loss":t["Tariff Loss"].sum/t["Tariff Loss"].count}},ee=t=>{if(t){const i=Object.values(P).find(n=>n.name===t);return i?i.tariffs[2]:0}const s=Object.values(P).reduce((i,n)=>i+n.energyDelivered,0);return Object.values(P).reduce((i,n)=>i+n.tariffs[2]*n.energyDelivered,0)/s},R=t=>`₦${t.toFixed(0)} /kWh`,te=t=>t.map(s=>{const a=s.split(" ");return a.length>1?a:[s]}),ae=({selectedState:t})=>{const s=C(),a=t?Object.values(P).find(u=>u.name===t):null,i=a?a.tariffs:Object.values(Q()),n=["MYTO Tariff","Billing Tariff","Collection Tariff","Tariff Loss"],r=te(n),f={chart:{type:"bar",fontFamily:"'Plus Jakarta Sans', sans-serif;",foreColor:"#adb0bb",toolbar:{show:!1},height:200,width:"100%"},colors:["#0074BA","#B3CEE6","#000","#ABC4C9"],plotOptions:{bar:{borderRadius:3,columnWidth:"60%",barHeight:"60%",distributed:!0,endingShape:"rounded",dataLabels:{position:"top"}}},dataLabels:{enabled:!0,formatter:u=>R(u),position:"top",style:{fontSize:"10px",colors:["#304758"],fontWeight:700},offsetY:-20},legend:{show:!1},grid:{padding:{top:0,right:0,bottom:0,left:0},show:!1},xaxis:{categories:r,axisBorder:{show:!1},axisTicks:{show:!1},labels:{show:!0}},yaxis:{labels:{show:!1}},tooltip:{theme:s.palette.mode==="dark"?"dark":"light",y:{formatter:function(u){return R(u)}}}},l=[{name:"",data:i}],h=ee(t);return e.jsx(T,{children:e.jsxs(B,{sx:{p:"30px"},children:[e.jsxs(b,{direction:"row",spacing:2,justifyContent:"space-between",children:[e.jsx(p,{variant:"h5",children:"Tariff Breakdown"}),e.jsx(m,{display:"flex",alignItems:"left",children:e.jsx(w,{label:t||"All state",size:"small"})})]}),e.jsx(b,{direction:"row",spacing:3,mb:3,mt:3,children:n.map((u,o)=>e.jsxs(b,{direction:"row",alignItems:"center",spacing:1,children:[e.jsx(F,{sx:{width:9,height:9,bgcolor:f.colors[o],svg:{display:"none"}}}),e.jsx(m,{children:e.jsx(p,{variant:"subtitle2",fontSize:"12px",fontWeight:700,color:"textSecondary",children:u})})]},o))}),e.jsx(c,{container:!0,spacing:3,mt:2,children:["August","July","June","May"].map((u,o)=>e.jsx(c,{item:!0,xs:12,sm:3,children:e.jsx(T,{children:e.jsxs(B,{sx:{p:"20px"},children:[e.jsx(m,{children:e.jsx(S,{options:f,series:l,type:"bar",height:"190px"})}),e.jsxs(m,{mt:2,children:[e.jsx(p,{variant:"h6",fontWeight:400,mb:1,children:u}),e.jsxs(b,{direction:"row",spacing:2,justifyContent:"space-between",children:[e.jsx(p,{variant:"h5",children:R(h)}),e.jsx(p,{variant:"subtitle1",color:"success.main",children:"+2.5%"})]})]})]})})},o))})]})})},J=t=>t>=1e9?`₦${(t/1e9).toFixed(1)}B`:`₦${(t/1e6).toFixed(1)}M`,se=({selectedState:t})=>{var n;console.log("Selected State: ",t);const s=t?((n=Object.values(z).find(r=>r.name===t))==null?void 0:n.expenses)||[]:Object.values(z).flatMap(r=>r.expenses);console.log("Expenses before aggregation: ",s);const a=s.reduce((r,f)=>{const l=r.find(h=>h.label===f.label);return l?l.amount+=f.amount:r.push({...f}),r},[]);console.log("Aggregated Expenses: ",a);const i=Array(3).fill({label:"Other Expenses",amount:0,trend:"down"});return e.jsx(H,{elevation:0,sx:{backgroundColor:"#f2f5f6",py:0,boxShadow:"rgb(145 158 171 / 30%) 0px 0px 2px 0px, rgb(145 158 171 / 12%) 0px 12px 24px -4px"},children:e.jsxs(B,{sx:{py:2,px:2},children:[e.jsxs(m,{mb:4,mt:3,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[e.jsx(p,{mb:2,variant:"h4",children:"Opex Breakdown"}),e.jsx(w,{alignItems:"right",label:t||"All state",size:"small"})]}),e.jsx(b,{spacing:2,justifyContent:"space-between",direction:"row",divider:e.jsx(A,{sx:{borderColor:"#959697"},orientation:"vertical",flexItem:!0}),alignItems:"center",children:a.slice(0,5).map((r,f)=>e.jsxs(m,{sx:{textAlign:"center",width:"20%"},children:[e.jsxs(p,{variant:"h2",whiteSpace:"nowrap",children:[J(r.amount)," ",e.jsx("span",{children:r.trend==="up"?e.jsx(E,{width:18,color:"#39B69A"}):e.jsx(L,{width:18,color:"#b63939"})})]}),e.jsx(p,{mt:2,variant:"subtitle1",whiteSpace:"nowrap",children:r.label})]},f))}),e.jsx(A,{sx:{borderColor:"#cdd2da",marginTop:"20px",marginBottom:"20px"},orientation:"horizontal",flexItem:!0}),e.jsx(b,{spacing:2,justifyContent:"space-between",direction:"row",divider:e.jsx(A,{sx:{borderColor:"#959697"},orientation:"vertical",flexItem:!0}),alignItems:"center",children:a.slice(5).concat(i).map((r,f)=>e.jsxs(m,{sx:{textAlign:"center",width:"20%"},children:[e.jsxs(p,{variant:"h2",whiteSpace:"nowrap",children:[J(r.amount)," ",e.jsx("span",{children:r.trend==="up"?e.jsx(E,{width:18,color:"#39B69A"}):e.jsx(L,{width:18,color:"#b63939"})})]}),e.jsx(p,{mt:2,variant:"subtitle1",whiteSpace:"nowrap",children:r.label})]},f))})]})})},oe=({selectedState:t})=>{const s=C();console.log("Selected State:",t);const a=t?Object.values(v).find(l=>l.name===t):null,i=a?a.vendorCollections:Object.values(v).reduce((l,h)=>(h.vendorCollections.forEach((u,o)=>{l[o]=(l[o]||0)+u}),l),[]),n=a?a.name:"All state",r={chart:{type:"bar",fontFamily:"'Plus Jakarta Sans', sans-serif",foreColor:"#4d5561",fontSize:"11px",toolbar:{show:!1},height:330},colors:["#a2c1c5"],plotOptions:{bar:{borderRadius:0,columnWidth:"50%",distributed:!0,endingShape:"rounded",dataLabels:{position:"top"}}},dataLabels:{enabled:!0,formatter:l=>`₦${l}M`,position:"top",offsetY:-20,style:{fontSize:"11px",fontWeight:700,colors:["#4d5561"]},background:"#fff"},legend:{show:!1},grid:{borderColor:"rgba(0,0,0,0.1)",strokeDashArray:3,xaxis:{lines:{show:!1}}},yaxis:{min:0,tickAmount:4},xaxis:{categories:["BuyPower.ng","Banahim.net","Bank","Cash","POS","powershop.ng","Remita"],labels:{rotate:0},axisBorder:{show:!1}},tooltip:{theme:s.palette.mode==="dark"?"dark":"light",fillSeriesColor:!1}},f=[{name:"Daily Collections",data:i}];return y.useEffect(()=>{},[t,f]),e.jsx(k,{title:"Collections By Vendors (₦)",subtitle:"",action:e.jsx(m,{display:"flex",justifyContent:"space-between",alignItems:"center",children:e.jsx(w,{label:n,size:"small"})}),children:e.jsx(c,{container:!0,spacing:3,children:e.jsx(c,{item:!0,xs:12,children:e.jsx(m,{mt:2,children:e.jsx(S,{options:r,series:f,type:"bar",height:"350px"})})})})})},ne=t=>{const s=Array.from({length:31},()=>0);return Object.values(O).forEach(a=>{(t==="postpaid"?a.dailyPostPaidCollections:a.dailyPrePaidCollections).forEach((n,r)=>{s[r]+=n})}),s},re=({selectedState:t})=>{const s=C(),a=s.palette.primary.main,i=s.palette.secondary.main,n=t?Object.values(O).find(h=>h.name===t):null,r=n?n.dailyPrePaidCollections:ne("prepaid"),f={chart:{type:"area",fontFamily:"'Plus Jakarta Sans', sans-serif",foreColor:"#adb0bb",toolbar:{show:!1},height:370},fill:{type:"gradient",gradient:{shadeIntensity:1,inverseColors:!1,opacityFrom:.6,opacityTo:.1,stops:[0,100],colorStops:[{offset:0,color:a,opacity:.3},{offset:100,color:i,opacity:0}]}},stroke:{curve:"smooth",width:2},dataLabels:{enabled:!0,formatter:h=>`₦${h}M`,position:"top",offsetY:-10,style:{fontSize:"10px",fontWeight:700,colors:["#3b78a7"]},background:"#fff"},legend:{show:!1},grid:{borderColor:"rgba(0,0,0,0.1)",strokeDashArray:3,xaxis:{lines:{show:!1}}},yaxis:{min:0,tickAmount:4},xaxis:{categories:Array.from({length:31},(h,u)=>[`${u+1}`]),labels:{rotate:0},axisBorder:{show:!1}},tooltip:{theme:s.palette.mode==="dark"?"dark":"light",fillSeriesColor:!1}},l=[{name:"Daily Pre-Paid Collections",data:r}];return e.jsx(k,{title:"Daily Collections Pre-Paid (₦)",subtitle:"",action:e.jsx(m,{display:"flex",alignItems:"left",children:e.jsx(w,{label:t||"All state",size:"small"})}),children:e.jsx(c,{container:!0,spacing:3,children:e.jsx(c,{item:!0,xs:12,children:e.jsx(m,{className:"rounded-bars",children:e.jsx(S,{options:f,series:l,type:"area",height:"390px"})})})})})},ie=t=>{const s=Array.from({length:31},()=>0);return Object.values(O).forEach(a=>{(t==="postpaid"?a.dailyPostPaidCollections:a.dailyPrePaidCollections).forEach((n,r)=>{s[r]+=n})}),s},le=({selectedState:t})=>{const s=C(),a=s.palette.primary.main,i=s.palette.secondary.main,n=t?Object.values(O).find(h=>h.name===t):null,r=n?n.dailyPostPaidCollections:ie("postpaid"),f={chart:{type:"area",fontFamily:"'Plus Jakarta Sans', sans-serif",foreColor:"#adb0bb",toolbar:{show:!1},height:370},fill:{type:"gradient",gradient:{shadeIntensity:1,inverseColors:!1,opacityFrom:.6,opacityTo:.1,stops:[0,100],colorStops:[{offset:0,color:a,opacity:.3},{offset:100,color:i,opacity:0}]}},stroke:{curve:"smooth",width:2},dataLabels:{enabled:!0,formatter:h=>`₦${h}M`,position:"top",offsetY:-10,style:{fontSize:"10px",fontWeight:700,colors:["#3b78a7"]},background:"#fff"},legend:{show:!1},grid:{borderColor:"rgba(0,0,0,0.1)",strokeDashArray:3,xaxis:{lines:{show:!1}}},yaxis:{min:0,tickAmount:4},xaxis:{categories:Array.from({length:31},(h,u)=>[`${u+1}`]),labels:{rotate:0},axisBorder:{show:!1}},tooltip:{theme:s.palette.mode==="dark"?"dark":"light",fillSeriesColor:!1}},l=[{name:"Daily Post-Paid Collections",data:r}];return e.jsx(k,{title:"Daily Collections Post-Paid (₦)",subtitle:"",action:e.jsx(m,{display:"flex",alignItems:"left",children:e.jsx(w,{label:t||"All state",size:"small"})}),children:e.jsx(c,{container:!0,spacing:3,children:e.jsx(c,{item:!0,xs:12,children:e.jsx(m,{className:"rounded-bars",children:e.jsx(S,{options:f,series:l,type:"area",height:"390px"})})})})})},ce=[{to:"/",title:"Home"},{title:"State"},{title:"Financial by State"}],Oe=()=>{const[t,s]=y.useState(""),a=n=>{s(n)},i=n=>{s(n)};return e.jsxs($,{title:"Financial By State",description:"this is Charts page",children:[e.jsx(K,{title:"Financial by State",items:ce}),e.jsxs(c,{container:!0,spacing:3,children:[e.jsx(c,{item:!0,xs:12,children:e.jsx(Y,{onFilterChange:i,selectedState:t})}),e.jsx(c,{item:!0,xs:12,children:e.jsx(X,{selectedState:t,onStateClick:a})}),e.jsx(c,{item:!0,xs:12,children:e.jsx(re,{selectedState:t})}),e.jsx(c,{item:!0,xs:12,children:e.jsx(le,{selectedState:t})}),e.jsx(c,{item:!0,xs:12,children:e.jsx(oe,{selectedState:t})}),e.jsx(c,{item:!0,xs:12,children:e.jsx(se,{selectedState:t})}),e.jsx(c,{item:!0,xs:12,children:e.jsx(U,{selectedState:t})}),e.jsx(c,{item:!0,xs:12,children:e.jsx(ae,{selectedState:t})})]})]})};export{Oe as default};
